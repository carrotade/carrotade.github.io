<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YTM Scanner</title>
    
    <link rel="preconnect" href="//fonts.googleapis.com" />
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin />
    <link href="//fonts.googleapis.com/css2?family=Merriweather:wght@300&family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="//cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.css" />
    <link href="//cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="//cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
    <script src="//cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.js"></script>
    <script src="//cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <style>
      body {
        font-family: 'Noto Sans KR', sans-serif;
        margin: 0 0 0 0;
      }

      .header-background {
        /* 배경 이미지를 여기에 넣으세요. */
        background-image: url('https://images.unsplash.com/photo-1579532537598-459ecdaf39cc'); /* 이미지 경로를 수정하세요 */
        background-size: cover; /* 배경 이미지가 항상 전체 너비를 채우도록 설정 */
        background-repeat: no-repeat;
        background-position: center center; /* 배경 이미지가 항상 중앙에 위치하도록 설정 */
        height: 100px; /* 또는 원하는 높이로 설정 */
        position: relative; /* 하위 요소의 위치를 조정하기 위함 */
        overflow: hidden; /* 경계 밖의 내용이 잘리도록 설정 */
      }
      .title-container {
        position: absolute; /* 부모 요소에 상대적으로 배치 */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); /* 중앙 정렬 */
        color: white; /* 텍스트 색상 설정 */
        text-align: center;
        width: 100%; /* 컨테이너의 너비 설정 */
      }
      .header-background::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.2); /* 이미지를 어둡게 만듭니다. */
        backdrop-filter: blur(2px); /* 배경 이미지를 흐리게 만듭니다. */
        -webkit-backdrop-filter: blur(2px); /* 크롬, 사파리용 */
      }
      .title-container h1 {
        margin: 0;
        padding: 0;
        font-size: 3em; /* 제목의 크기를 설정 */
        font-family: 'Merriweather', serif;
        /* 필요한 경우, 글꼴, 크기, 스타일 등 추가 스타일 적용 가능 */
      }

      .container {
        padding: 0 0 0 0;
      }

      #infoTable td.name {
        font-size: 0.7em;
      }
      #infoTable td.ytm {
        text-align: right;
      }
      #infoTable td.ytm::after {
        content: '%';
      }
      #infoTable td.duration {
        text-align: right;
      }

      .footer {
        font-size: 0.6em;
      }
    </style>
  </head>
  <body>
  <div class="header-background">
    <div class="title-container">
      <h1>YTM Scanner</h1>
    </div>
  </div>
  <div class="container">
    <table id="infoTable" class="table table-sm table-striped table-bordered table-hover" style="width: 100%"
           data-order='[[1, "desc"], [2, "asc"]]' data-paging="false" data-indicator="true"
           data-info="false" data-responsive="true" data-searching="false">
    <thead>
      <tr>
        <th data-class-name="name">Name</th>
        <th data-class-name="ytm">YTM</th>
        <th data-class-name="duration">Duration</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
    </table>
    <div class="footer">
      <div>
        YTM Scanner에서 제공하는 정보들은 참고용이며 그 정확성이나 완전성을 보장하지 않습니다.
      </div>
      <div>
        투자에 대한 모든 책임은 본인에게 있습니다.
      </div>
      <div>
        Copyright Carrotade All Rights Reserved.
      </div>
    </div>
  </div>

  <script>
    $('#infoTable').DataTable({
      ajax: {
        url: 'published/data.json',
        dataSrc: '',
      },
      columns: [
        { data: "name" },
        {
          data: "ytm",
          render: (data, type,) => {
            if (type === 'display') {
              if (!data.synced || data.value === null)
                return `<span title="${data.ts}" style="text-decoration: line-through; color: gray;">&#x26A0;${parseFloat(data.value).toFixed(2)}</span>`;
              else
                return `<span>${parseFloat(data.value).toFixed(2)}</span>`;
            }
            return parseFloat(data.value);
          }
        },
        {
          data: "duration",
          render: (data, type,) => {
            if (type === 'display') {
              if (!data.synced || data.value === null)
                return `<span title="${data.ts}" style="text-decoration: line-through; color: gray;">&#x26A0;${parseFloat(data.value).toFixed(2)}</span>`;
              else
                return `<span>${parseFloat(data.value).toFixed(2)}</span>`;
            }
            return parseFloat(data.value);
          }
        },
      ],
    })
  </script>
  </body>
</html>
